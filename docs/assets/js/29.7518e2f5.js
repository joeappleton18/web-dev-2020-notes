(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{516:function(t,e,s){"use strict";s.r(e);var a=s(42),r=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"routing"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#routing"}},[t._v("#")]),t._v(" Routing")]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("h2",{attrs:{id:"session-dependencies"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#session-dependencies"}},[t._v("#")]),t._v(" Session Dependencies")]),t._v(" "),s("p",[s("a",{attrs:{href:"http://github.com/joeappleton18/web-dev-industry-practical",target:"_blank",rel:"noopener noreferrer"}},[t._v("Make sure that you have the latest of the ongoing class, fitness tracker, project. "),s("strong",[t._v("The notes for this week refer extensively to this project")]),s("OutboundLink")],1),t._v(".")])]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("h3",{attrs:{id:"essential-reading"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#essential-reading"}},[t._v("#")]),t._v(" Essential Reading ðŸ“•")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://reacttraining.com/react-router/web/guides/quick-start",target:"_blank",rel:"noopener noreferrer"}},[t._v("React Router"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://survivejs.com/react/advanced-techniques/structuring-react-projects/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Structuring a Larger React Application"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://reactjs.org/docs/hooks-effect.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("React documentation on the use effect hook"),s("OutboundLink")],1)])]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("Optional advanced reading:")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://overreacted.io/a-complete-guide-to-useeffect/",target:"_blank",rel:"noopener noreferrer"}},[t._v("An in-depth guide to the use effect hook. A fantastic blog post by  Dan Abramov - a react core team member.s"),s("OutboundLink")],1),t._v("(optional)")])]),t._v(" "),s("p",[t._v("This week is going to be particularly interesting You are going to be learning how to implement routing into your application.  This will allow us to create the effect of having multiple pages in our single page application.")]),t._v(" "),s("h2",{attrs:{id:"creating-an-application-with-multiple-views"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#creating-an-application-with-multiple-views"}},[t._v("#")]),t._v(" Creating an application with multiple views")]),t._v(" "),s("p",[t._v("Let's reconsider our goal tracking application. Currently, we only have one view - the dash. As such, we have placed all of the related dash components in the main "),s("code",[t._v("/src/App.js")]),t._v(" component. This works -  as long as we only have a single view. However, moving forward, we are going to need multiple views. We need to re-structure our application to facilitate this requirement.")]),t._v(" "),s("p",[t._v("Structuring an ever-evolving React application can be a complex undertaking. The complexity comes from the fact there is no right or wrong way to do things - React is very unopinionated.")]),t._v(" "),s("p",[t._v("There are patterns you can use (see "),s("a",{attrs:{href:"https://survivejs.com/react/advanced-techniques/structuring-react-projects/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Structuring a Larger React Application"),s("OutboundLink")],1),t._v('). However, ultimately, how to structure an application is down to the developer. Dan Abramov, React core developer and the creator of Redux, recommends, "move files around until it feels right". This is all well and good for experienced developers;  however, as beginners, I think we need more in the way of guidance. As such, I am going to suggest a structure that has worked well for me in the past.')]),t._v(" "),s("h3",{attrs:{id:"application-structure"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#application-structure"}},[t._v("#")]),t._v(" Application Structure")]),t._v(" "),s("p",[t._v("We need to create an application that can serve multiple views. To begin with, let's consider the following:")]),t._v(" "),s("ul",[s("li",[t._v("Dash  (this is the default and our current view)")]),t._v(" "),s("li",[t._v("Join")]),t._v(" "),s("li",[t._v("Login")]),t._v(" "),s("li",[t._v("Profile")])]),t._v(" "),s("p",[t._v("The above views can be represented in the following file structure:")]),t._v(" "),s("div",{staticClass:"language-terminal extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("|-src/ \n   |-Components\n     |- CheckinComment.js\n     |- DaysCompleted.js\n     ...\n   |-Views/\n      |- Checkin.js\n      |- Dash.js\n      |- Join.js\n      |- Profile.js\n")])])]),s("p",[t._v("Using the above layout convention we compose components into larger views. I like this line of thinking as it represents the structure, from a user perspective, of our application.  Let's explore this idea further by restructuring our existing application.")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("h2",{attrs:{id:"task-1-restructuring-our-application"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#task-1-restructuring-our-application"}},[t._v("#")]),t._v(" Task 1 - Restructuring our application")]),t._v(" "),s("p",[t._v("The goal of this task is to restructure our application to conform to the above structure. Complete the following steps:")]),t._v(" "),s("p",[t._v("Create the file "),s("code",[t._v("src/Views/Dash.js")])]),t._v(" "),s("p",[t._v("Boostrap it as a blank component. You can use the following code:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" PropTypes "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'prop-types'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Dash")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Join "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("h1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nDash"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("propTypes "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" Dash"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("Next, consider how you could extract the Dash view elements out of "),s("code",[t._v("App.js")]),t._v(" and into "),s("code",[t._v("Dash.js")]),t._v(".   Once done, "),s("code",[t._v("App.js")]),t._v(" should look like this:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("App")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("ThemeProvider theme"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("theme"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Header "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("GlobalStyles "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Dash "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("  \n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ThemeProvider"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("Since we are going to be using a router to serve up different views, it would be handy to have more than just a single view. With this in mind, set up the below View components, that simply render an "),s("code",[t._v("<h1> </h1>")]),t._v("  containing the name of the component e.g. 'Join'")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" Views"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Checkin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" Views"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Join"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" Views"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Login"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" Views"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Profile"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js\n")])])])]),t._v(" "),s("h2",{attrs:{id:"routing-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#routing-2"}},[t._v("#")]),t._v(" Routing")]),t._v(" "),s("p",[t._v("Now we have a workable application structure we can consider how we can conditionally serve up different views based on a given URL - or even application state.  The concept of routing provides us with the functionality that we are looking for. However, React does not come with a router. As such, we need to install one.")]),t._v(" "),s("p",[t._v("While there are several Routing possibilities, the "),s("a",{attrs:{href:"https://reacttraining.com/react-router/web/guides/quick-start",target:"_blank",rel:"noopener noreferrer"}},[t._v("React Router"),s("OutboundLink")],1),t._v(", provided by React Training, is normally a go-to routing solution. Let's install and configure it:")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("h2",{attrs:{id:"task-2-installing-and-configuring-the-react-router"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#task-2-installing-and-configuring-the-react-router"}},[t._v("#")]),t._v(" Task 2 - Installing and configuring the react-router")]),t._v(" "),s("p",[t._v("The react-router is simple to install and configure:")]),t._v(" "),s("ul",[s("li",[t._v("run "),s("code",[t._v("npm install react-router-dom")])]),t._v(" "),s("li",[t._v("next, we need to wrap our entire application in the "),s("code",[t._v("<Router>")]),t._v(" component.")]),t._v(" "),s("li",[t._v("Open "),s("code",[t._v("src/index.js")]),t._v(" and wrap your "),s("code",[t._v("<App>")]),t._v(" in the "),s("code",[t._v("<Router>")]),t._v(" component. Your code should then resemble the following:")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" ReactDOM "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-dom'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'reset-css/reset.css'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    BrowserRouter "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" Router\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react-router-dom"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" App "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./App'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" serviceWorker "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./serviceWorker'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nReactDOM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Router"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("App "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Router"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// If you want your app to work offline and load faster, you can change")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// unregister() to register() below. Note this comes with some pitfalls.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Learn more about service workers: https://bit.ly/CRA-PWA")]),t._v("\nserviceWorker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("unregister")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("We can now start adding routes. Open "),s("code",[t._v("src/App.js")]),t._v(" and import the following dependencies:")]),t._v(" "),s("div",{staticClass:"language-JavaScript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  Switch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  Route"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  useLocation\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react-router-dom"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("Also, import all of your views into your App component\nWe can now add routes as follows:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("ThemeProvider theme"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("theme"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Header  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("GlobalStyles "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Switch"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route exact path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Dash checkins"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("checkins"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Route"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/join"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Join "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Route"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/profile"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Profile "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Route"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/checkin"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Checkin "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Route"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Switch"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ThemeProvider"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("That's it - navigate to http://localhost:3000/join to test out your solution.")]),t._v(" "),s("p",[t._v("In the above example, the "),s("code",[t._v("<Switch />")]),t._v(" component allows us to declaratively specify routing logic. We do this by using the "),s("code",[t._v("<Route>")]),t._v(" child component. Notice how it has the prop "),s("code",[t._v("path")]),t._v("  e.g.  "),s("code",[t._v('<Route path="/join">')]),t._v("  the router will "),s("strong",[t._v("best match")]),t._v(" the browser URL against this path.  If we want, we can override the best match functionality by using the prop "),s("code",[t._v("exact")]),t._v(" - e.g. we've done this for the route path "),s("code",[t._v("/")]),t._v(".")])]),t._v(" "),s("h2",{attrs:{id:"further-routing"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#further-routing"}},[t._v("#")]),t._v(" Further Routing")]),t._v(" "),s("h3",{attrs:{id:"dealing-with-links"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dealing-with-links"}},[t._v("#")]),t._v(" Dealing With Links")]),t._v(" "),s("p",[t._v("Consider our menu that currently lives in "),s("code",[t._v("src/Components/Header.js")]),t._v(". Notice how our menu links are not operational. React-router provides us with a "),s("code",[t._v("<Link>")]),t._v(" component, which can be used in replacement of traditional "),s("code",[t._v("<a>")]),t._v(" tags. Let's set up some links:")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("h2",{attrs:{id:"task-3-setting-up-links"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#task-3-setting-up-links"}},[t._v("#")]),t._v(" Task 3 - Setting Up Links")]),t._v(" "),s("ul",[s("li",[t._v("Within "),s("code",[t._v("src/Components/Header.js")]),t._v(" import "),s("code",[t._v("react-router")]),t._v("'s "),s("code",[t._v("<Link>")]),t._v(" component:")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Link"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react-router-dom"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ul",[s("li",[t._v("We can now set up our links as follows:")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Link to"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Dash "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Link"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("ul",[s("li",[t._v("Complete this task by setting up a link for  profile")])])]),t._v(" "),s("h2",{attrs:{id:"logic-base-on-the-route"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#logic-base-on-the-route"}},[t._v("#")]),t._v(" Logic base on the route")]),t._v(" "),s("p",[t._v("There will be occasions when you want to make logical decisions based on a routing event or state. "),s("a",{attrs:{href:"https://reacttraining.com/react-router/web/api/Hooks",target:"_blank",rel:"noopener noreferrer"}},[t._v("react-router has several hooks"),s("OutboundLink")],1),t._v(" that allow us to access the internal functionality of the router.  For the next task, let's see how we could use a hook to enhance our menu.")]),t._v(" "),s("h2",{attrs:{id:"task-4-using-the-react-router-hooks"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#task-4-using-the-react-router-hooks"}},[t._v("#")]),t._v(" Task 4 - Using the react-router hooks")]),t._v(" "),s("p",[t._v("Consider the menu component in "),s("code",[t._v("src/Components/Header.js")]),t._v(" each menu item is constructed using the following styled component "),s("code",[t._v('<StyledLi active={true}> <Link to="/"> Dash </Link> </StyledLi>')]),t._v(".  Currently, the active link style is conditional based on the prop "),s("code",[t._v("active")]),t._v(". At the moment, to demonstrate this functionality, the dash link is simply set to active - at all times. However, we want active to be conditional based on the current route.")]),t._v(" "),s("p",[t._v("React-router provides a "),s("code",[t._v("useLocation")]),t._v(" hook that can allow us to achieve the above functionality. Let's use it:")]),t._v(" "),s("ul",[s("li",[t._v("Add useLocation to the "),s("code",[t._v("react-router-do-dom")]),t._v(" import list: "),s("code",[t._v('import {Link, useLocation} from "react-router-dom";')])]),t._v(" "),s("li",[t._v("We can now invoke the hook by calling "),s("code",[t._v("useLocation")]),t._v(" at the top of our menu component like this:")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Menu")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" onClick "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" location "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useLocation")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])]),s("ul",[s("li",[t._v("The current location is now avalible to us in "),s("code",[t._v("location.pathname")])]),t._v(" "),s("li",[t._v("Can you use location to highlight the active link? Do this to complete the task\n:::")])]),t._v(" "),s("h2",{attrs:{id:"further-react-hooks"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#further-react-hooks"}},[t._v("#")]),t._v(" Further React Hooks")]),t._v(" "),s("p",[t._v("Currently, when we change location the menu remains open. From a usability perspective, this is not ideal - since the user has completed their required action we should close the menu. To achieve this functionality we need to be able to listen to the location and act when it changes. The "),s("code",[t._v("useEffect")]),t._v(" react hook allows us to do this.")]),t._v(" "),s("p",[t._v("Remember, "),s("a",{attrs:{href:"https://reactjs.org/docs/hooks-effect.html",target:"_blank",rel:"noopener noreferrer"}},[t._v('"Hooks are a new addition in React 16.8. They let you use state and other React features without writing a class."'),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("p",[t._v("We can use the "),s("code",[t._v("useEffect")]),t._v(" hook to run an effect whenever the state of our component changes.  For now, you can just use this hook in a rote learning fashion. However, hooks, specifically the useEffect, are very powerful and I recommend conducting research in your own time ("),s("a",{attrs:{href:"https://overreacted.io/a-complete-guide-to-useeffect/",target:"_blank",rel:"noopener noreferrer"}},[t._v("read"),s("OutboundLink")],1),t._v(", "),s("a",{attrs:{href:"https://reactjs.org/docs/hooks-effect.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("read"),s("OutboundLink")],1),t._v(").")]),t._v(" "),s("p",[t._v("Below is an example of a useEffect  hook:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" useState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" useEffect "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("someComponent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setCount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"You clicked ${count} times"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n  \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*...*/")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("As I said, we, unfortunately, do not have the time to explore effect hooks in-depth. However, we can briefly touch on the above example.")]),t._v(" "),s("p",[s("code",[t._v("UseEffect")]),t._v(" is a function that takes in, as an argument, a function and an optional array. The function is the effect and will be run every time the component state updates. The second optional argument - the array - limits the effect to run only on specific state updates. "),s("strong",[t._v("As such, in the above example, the effect will only run when the count state updates")]),t._v(".")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("h2",{attrs:{id:"task-5-using-useeffect"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#task-5-using-useeffect"}},[t._v("#")]),t._v(" Task 5 - Using UseEffect")]),t._v(" "),s("p",[t._v("Can you use the useEffect hook within your menu component to watch the "),s("code",[t._v("location")]),t._v(" variable?  When the location changes you should close the menu?")])]),t._v(" "),s("h2",{attrs:{id:"home-study"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#home-study"}},[t._v("#")]),t._v(" Home Study")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("h2",{attrs:{id:"task-7-create-a-404-page"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#task-7-create-a-404-page"}},[t._v("#")]),t._v(" Task 7 - Create a 404 page")]),t._v(" "),s("p",[t._v("Can you work out how to set up a 404 page if a route does not exist?")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("h2",{attrs:{id:"task-8-conditional-rendering"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#task-8-conditional-rendering"}},[t._v("#")]),t._v(" Task  8 - Conditional Rendering")]),t._v(" "),s("p",[t._v("Work out how to use the "),s("code",[t._v("useLocation")]),t._v(" hook to hide the "),s("code",[t._v("<Header />")]),t._v(" on the login/sign up page")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("h2",{attrs:{id:"task-9"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#task-9"}},[t._v("#")]),t._v(" Task  9")]),t._v(" "),s("p",[t._v("Can you hoist the menu state up to app? If you do this you should be able to add the functionality to close the menu if a user clicks away from it on the main part of the application.")])])])}),[],!1,null,null,null);e.default=r.exports}}]);