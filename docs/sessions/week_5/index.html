<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Routing</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/web-dev-2020-notes/assets/css/0.styles.59a6aa0e.css" as="style"><link rel="preload" href="/web-dev-2020-notes/assets/js/app.448b85be.js" as="script"><link rel="preload" href="/web-dev-2020-notes/assets/js/3.1365a140.js" as="script"><link rel="preload" href="/web-dev-2020-notes/assets/js/27.32a85380.js" as="script"><link rel="prefetch" href="/web-dev-2020-notes/assets/js/1.9a9ddbec.js"><link rel="prefetch" href="/web-dev-2020-notes/assets/js/10.5f049094.js"><link rel="prefetch" href="/web-dev-2020-notes/assets/js/11.e3524b90.js"><link rel="prefetch" href="/web-dev-2020-notes/assets/js/12.c284cb4b.js"><link rel="prefetch" href="/web-dev-2020-notes/assets/js/13.6306b17e.js"><link rel="prefetch" href="/web-dev-2020-notes/assets/js/14.3e8c9c4c.js"><link rel="prefetch" href="/web-dev-2020-notes/assets/js/15.5d4d053b.js"><link rel="prefetch" href="/web-dev-2020-notes/assets/js/16.56211fa5.js"><link rel="prefetch" href="/web-dev-2020-notes/assets/js/17.c9f27030.js"><link rel="prefetch" href="/web-dev-2020-notes/assets/js/18.085447ca.js"><link rel="prefetch" href="/web-dev-2020-notes/assets/js/19.5ab332b3.js"><link rel="prefetch" href="/web-dev-2020-notes/assets/js/20.4c9178a6.js"><link rel="prefetch" href="/web-dev-2020-notes/assets/js/21.fe95595d.js"><link rel="prefetch" href="/web-dev-2020-notes/assets/js/22.6733431a.js"><link rel="prefetch" href="/web-dev-2020-notes/assets/js/23.0bf2360e.js"><link rel="prefetch" href="/web-dev-2020-notes/assets/js/24.5cb2f76a.js"><link rel="prefetch" href="/web-dev-2020-notes/assets/js/25.2bc1d12d.js"><link rel="prefetch" href="/web-dev-2020-notes/assets/js/26.03de86ba.js"><link rel="prefetch" href="/web-dev-2020-notes/assets/js/28.3282a5b1.js"><link rel="prefetch" href="/web-dev-2020-notes/assets/js/29.7636972e.js"><link rel="prefetch" href="/web-dev-2020-notes/assets/js/30.643325b6.js"><link rel="prefetch" href="/web-dev-2020-notes/assets/js/4.7ea1b6f5.js"><link rel="prefetch" href="/web-dev-2020-notes/assets/js/5.23d295ce.js"><link rel="prefetch" href="/web-dev-2020-notes/assets/js/6.6d138b4c.js"><link rel="prefetch" href="/web-dev-2020-notes/assets/js/7.b99aa35b.js"><link rel="prefetch" href="/web-dev-2020-notes/assets/js/8.bbb2682e.js"><link rel="prefetch" href="/web-dev-2020-notes/assets/js/9.440e62ba.js">
    <link rel="stylesheet" href="/web-dev-2020-notes/assets/css/0.styles.59a6aa0e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/web-dev-2020-notes/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Overview</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/web-dev-2020-notes/" class="sidebar-link">Web Application Development Notes</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Week 1 - The latest version of JavaScript</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="routing"><a href="#routing" aria-hidden="true" class="header-anchor">#</a> Routing</h1> <div class="warning custom-block"><h2 id="session-dependencies"><a href="#session-dependencies" aria-hidden="true" class="header-anchor">#</a> Session Dependencies</h2> <p><a href="http://github.com/joeappleton18/web-dev-industry-practical" target="_blank" rel="noopener noreferrer">Make sure that you have the latest of the ongoing class, fitness tracker, project. <strong>The notes for this week refer extensively to this project</strong><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></div> <div class="warning custom-block"><h3 id="essential-reading"><a href="#essential-reading" aria-hidden="true" class="header-anchor">#</a> Essential Reading ðŸ“•</h3> <p><a href="https://reacttraining.com/react-router/web/guides/quick-start" target="_blank" rel="noopener noreferrer">React Router<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://survivejs.com/react/advanced-techniques/structuring-react-projects/" target="_blank" rel="noopener noreferrer">Structuring a Larger React Application<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://reactjs.org/docs/hooks-effect.html" target="_blank" rel="noopener noreferrer">React documentation on the use effect hook<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <div class="warning custom-block"><p>Optional advanced reading:</p> <p><a href="https://overreacted.io/a-complete-guide-to-useeffect/" target="_blank" rel="noopener noreferrer">An in-depth guide to the use effect hook. A fantastic blog post by  Dan Abramov - a react core team member.s<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>(optional)</p></div> <p>This week is going to be particularly interesting You are going to be learning how to implement routing into your application.  This will allow us to create the effect of having multiple pages in our single page application.</p> <h2 id="creating-an-application-with-multiple-views"><a href="#creating-an-application-with-multiple-views" aria-hidden="true" class="header-anchor">#</a> Creating an application with multiple views</h2> <p>Let's reconsider our goal tracking application. Currently, we only have one view - the dash. As such, we have placed all of the related dash components in the main <code>/src/App.js</code> component. This works -  as long as we only have a single view. However, moving forward, we are going to need multiple views. We need to re-structure our application to facilitate this requirement.</p> <p>Structuring an ever-evolving React application can be a complex undertaking. The complexity comes from the fact there is no right or wrong way to do things - React is very unopinionated.</p> <p>There are patterns you can use (see <a href="https://survivejs.com/react/advanced-techniques/structuring-react-projects/" target="_blank" rel="noopener noreferrer">Structuring a Larger React Application<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>). However, ultimately, how to structure an application is down to the developer. Dan Abramov, React core developer and the creator of Redux, recommends, &quot;move files around until it feels right&quot;. This is all well and good for experienced developers;  however, as beginners, I think we need more in the way of guidance. As such, I am going to suggest a structure that has worked well for me in the past.</p> <h3 id="application-structure"><a href="#application-structure" aria-hidden="true" class="header-anchor">#</a> Application Structure</h3> <p>We need to create an application that can serve multiple views. To begin with, let's consider the following:</p> <ul><li>Dash  (this is the default and our current view)</li> <li>Join</li> <li>Login</li> <li>Profile</li></ul> <p>The above views can be represented in the following file structure:</p> <div class="language-terminal extra-class"><pre class="language-text"><code>|-src/ 
   |-Components
     |- CheckinComment.js
     |- DaysCompleted.js
     ...
   |-Views/
      |- Checkin.js
      |- Dash.js
      |- Join.js
      |- Profile.js
</code></pre></div><p>Using the above layout convention we compose components into larger views. I like this line of thinking as it represents the structure, from a user perspective, of our application.  Let's explore this idea further by restructuring our existing application.</p> <div class="tip custom-block"><h2 id="task-1-restructuring-our-application"><a href="#task-1-restructuring-our-application" aria-hidden="true" class="header-anchor">#</a> Task 1 - Restructuring our application</h2> <p>The goal of this task is to restructure our application to conform to the above structure. Complete the following steps:</p> <p>Create the file <code>src/Views/Dash.js</code></p> <p>Boostrap it as a blank component. You can use the following code:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> PropTypes <span class="token keyword">from</span> <span class="token string">'prop-types'</span>

<span class="token keyword">function</span> <span class="token function">Dash</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span> Join <span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

Dash<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Dash<span class="token punctuation">;</span>
</code></pre></div><p>Next, consider how you could extract the Dash view elements out of <code>App.js</code> and into <code>Dash.js</code>.   Once done, <code>App.js</code> should look like this:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>ThemeProvider theme<span class="token operator">=</span><span class="token punctuation">{</span>theme<span class="token punctuation">}</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Header <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>GlobalStyles <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Dash <span class="token operator">/</span><span class="token operator">&gt;</span>  
      <span class="token operator">&lt;</span><span class="token operator">/</span>ThemeProvider<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Since we are going to be using a router to serve up different views, it would be handy to have more than just a single view. With this in mind, set up the below View components, that simply render an <code>&lt;h1&gt; &lt;/h1&gt;</code>  containing the name of the component e.g. 'Join'</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token operator">-</span> Views<span class="token operator">/</span>Checkin<span class="token punctuation">.</span>js
  <span class="token operator">-</span> Views<span class="token operator">/</span>Join<span class="token punctuation">.</span>js
  <span class="token operator">-</span> Views<span class="token operator">/</span>Login<span class="token punctuation">.</span>js
  <span class="token operator">-</span> Views<span class="token operator">/</span>Profile<span class="token punctuation">.</span>js
</code></pre></div></div> <h2 id="routing-2"><a href="#routing-2" aria-hidden="true" class="header-anchor">#</a> Routing</h2> <p>Now we have a workable application structure we can consider how we can conditionally serve up different views based on a given URL - or even application state.  The concept of routing provides us with the functionality that we are looking for. However, React does not come with a router. As such, we need to install one.</p> <p>While there are several Routing possibilities, the <a href="https://reacttraining.com/react-router/web/guides/quick-start" target="_blank" rel="noopener noreferrer">React Router<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, provided by React Training, is normally a go-to routing solution. Let's install and configure it:</p> <div class="tip custom-block"><h2 id="task-2-installing-and-configuring-the-react-router"><a href="#task-2-installing-and-configuring-the-react-router" aria-hidden="true" class="header-anchor">#</a> Task 2 - Installing and configuring the react-router</h2> <p>The react-router is simple to install and configure:</p> <ul><li>run <code>npm install react-router-dom</code></li> <li>next, we need to wrap our entire application in the <code>&lt;Router&gt;</code> component.</li> <li>Open <code>src/index.js</code> and wrap your <code>&lt;App&gt;</code> in the <code>&lt;Router&gt;</code> component. Your code should then resemble the following:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'reset-css/reset.css'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
    BrowserRouter <span class="token keyword">as</span> Router
  <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-router-dom&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> serviceWorker <span class="token keyword">from</span> <span class="token string">'./serviceWorker'</span><span class="token punctuation">;</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Router<span class="token operator">&gt;</span><span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Router<span class="token operator">&gt;</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// If you want your app to work offline and load faster, you can change</span>
<span class="token comment">// unregister() to register() below. Note this comes with some pitfalls.</span>
<span class="token comment">// Learn more about service workers: https://bit.ly/CRA-PWA</span>
serviceWorker<span class="token punctuation">.</span><span class="token function">unregister</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>We can now start adding routes. Open <code>src/App.js</code> and import the following dependencies:</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
  Switch<span class="token punctuation">,</span>
  Route<span class="token punctuation">,</span>
  useLocation
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-router-dom&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>Also, import all of your views into your App component
We can now add routes as follows:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">...</span>
<span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>ThemeProvider theme<span class="token operator">=</span><span class="token punctuation">{</span>theme<span class="token punctuation">}</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>Header  <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>GlobalStyles <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>Switch<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>Route exact path<span class="token operator">=</span><span class="token string">&quot;/&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>Dash checkins<span class="token operator">=</span><span class="token punctuation">{</span>checkins<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">&quot;/join&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>Join <span class="token operator">/</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">&quot;/profile&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>Profile <span class="token operator">/</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">&quot;/checkin&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>Checkin <span class="token operator">/</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>Switch<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>ThemeProvider<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>That's it - navigate to http://localhost:3000/join to test out your solution.</p> <p>In the above example, the <code>&lt;Switch /&gt;</code> component allows us to declaratively specify routing logic. We do this by using the <code>&lt;Route&gt;</code> child component. Notice how it has the prop <code>path</code>  e.g.  <code>&lt;Route path=&quot;/join&quot;&gt;</code>  the router will <strong>best match</strong> the browser URL against this path.  If we want, we can override the best match functionality by using the prop <code>exact</code> - e.g. we've done this for the route path <code>/</code>.</p></div> <h2 id="further-routing"><a href="#further-routing" aria-hidden="true" class="header-anchor">#</a> Further Routing</h2> <h3 id="dealing-with-links"><a href="#dealing-with-links" aria-hidden="true" class="header-anchor">#</a> Dealing With Links</h3> <p>Consider our menu that currently lives in <code>src/Components/Header.js</code>. Notice how our menu links are not operational. React-router provides us with a <code>&lt;Link&gt;</code> component, which can be used in replacement of traditional <code>&lt;a&gt;</code> tags. Let's set up some links:</p> <div class="tip custom-block"><h2 id="task-3-setting-up-links"><a href="#task-3-setting-up-links" aria-hidden="true" class="header-anchor">#</a> Task 3 - Setting Up Links</h2> <ul><li>Within <code>src/Components/Header.js</code> import <code>react-router</code>'s <code>&lt;Link&gt;</code> component:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Link<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-router-dom&quot;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>We can now set up our links as follows:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">&quot;/&quot;</span><span class="token operator">&gt;</span> Dash <span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">&gt;</span>
</code></pre></div><ul><li>Complete this task by setting up a link for  profile</li></ul></div> <h2 id="logic-base-on-the-route"><a href="#logic-base-on-the-route" aria-hidden="true" class="header-anchor">#</a> Logic base on the route</h2> <p>There will be occasions when you want to make logical decisions based on a routing event or state. <a href="https://reacttraining.com/react-router/web/api/Hooks" target="_blank" rel="noopener noreferrer">react-router has several hooks<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> that allow us to access the internal functionality of the router.  For the next task, let's see how we could use a hook to enhance our menu.</p> <h2 id="task-4-using-the-react-router-hooks"><a href="#task-4-using-the-react-router-hooks" aria-hidden="true" class="header-anchor">#</a> Task 4 - Using the react-router hooks</h2> <p>Consider the menu component in <code>src/Components/Header.js</code> each menu item is constructed using the following styled component <code>&lt;StyledLi active={true}&gt; &lt;Link to=&quot;/&quot;&gt; Dash &lt;/Link&gt; &lt;/StyledLi&gt;</code>.  Currently, the active link style is conditional based on the prop <code>active</code>. At the moment, to demonstrate this functionality, the dash link is simply set to active - at all times. However, we want active to be conditional based on the current route.</p> <p>React-router provides a <code>useLocation</code> hook that can allow us to achieve the above functionality. Let's use it:</p> <ul><li>Add useLocation to the <code>react-router-do-dom</code> import list: <code>import {Link, useLocation} from &quot;react-router-dom&quot;;</code></li> <li>We can now invoke the hook by calling <code>useLocation</code> at the top of our menu component like this:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Menu</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> onClick <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
  <span class="token keyword">const</span> location <span class="token operator">=</span> <span class="token function">useLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">...</span><span class="token operator">...</span>
</code></pre></div><ul><li>The current location is now avalible to us in <code>location.pathname</code></li> <li>Can you use location to highlight the active link? Do this to complete the task
:::</li></ul> <h2 id="further-react-hooks"><a href="#further-react-hooks" aria-hidden="true" class="header-anchor">#</a> Further React Hooks</h2> <p>Currently, when we change location the menu remains open. From a usability perspective, this is not ideal - since the user has completed their required action we should close the menu. To achieve this functionality we need to be able to listen to the location and act when it changes. The <code>useEffect</code> react hook allows us to do this.</p> <p>Remember, <a href="https://reactjs.org/docs/hooks-effect.html" target="_blank" rel="noopener noreferrer">&quot;Hooks are a new addition in React 16.8. They let you use state and other React features without writing a class.&quot;<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>We can use the <code>useEffect</code> hook to run an effect whenever the state of our component changes.  For now, you can just use this hook in a rote learning fashion. However, hooks, specifically the useEffect, are very powerful and I recommend conducting research in your own time (<a href="https://overreacted.io/a-complete-guide-to-useeffect/" target="_blank" rel="noopener noreferrer">read<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, <a href="https://reactjs.org/docs/hooks-effect.html" target="_blank" rel="noopener noreferrer">read<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>).</p> <p>Below is an example of a useEffect  hook:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">someComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">setState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span> <span class="token punctuation">(</span><span class="token string">&quot;You clicked ${count} times&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>count<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  
<span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token comment">/*...*/</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>As I said, we, unfortunately, do not have the time to explore effect hooks in-depth. However, we can briefly touch on the above example.</p> <p><code>UseEffect</code> is a function that takes in, as an argument, a function and an optional array. The function is the effect and will be run every time the component state updates. The second optional argument - the array - limits the effect to run only on specific state updates. <strong>As such, in the above example, the effect will only run when the count state updates</strong>.</p> <div class="tip custom-block"><h2 id="task-5-using-useeffect"><a href="#task-5-using-useeffect" aria-hidden="true" class="header-anchor">#</a> Task 5 - Using UseEffect</h2> <p>Can you use the useEffect hook within your menu component to watch the <code>location</code> variable?  When the location changes you should close the menu?</p></div> <h2 id="home-study"><a href="#home-study" aria-hidden="true" class="header-anchor">#</a> Home Study</h2> <div class="tip custom-block"><h2 id="task-7-create-a-404-page"><a href="#task-7-create-a-404-page" aria-hidden="true" class="header-anchor">#</a> Task 7 - Create a 404 page</h2> <p>Can you work out how to set up a 404 page if a route does not exist?</p></div> <div class="tip custom-block"><h2 id="task-8-conditional-rendering"><a href="#task-8-conditional-rendering" aria-hidden="true" class="header-anchor">#</a> Task  8 - Conditional Rendering</h2> <p>Work out how to use the <code>useLocation</code> hook to hide the <code>&lt;Header /&gt;</code> on the login/sign up page</p></div> <div class="tip custom-block"><h2 id="task-9"><a href="#task-9" aria-hidden="true" class="header-anchor">#</a> Task  9</h2> <p>Can you hoist the menu state up to app? If you do this you should be able to add the functionality to close the menu if a user clicks away from it on the main part of the application.</p></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/web-dev-2020-notes/assets/js/app.448b85be.js" defer></script><script src="/web-dev-2020-notes/assets/js/3.1365a140.js" defer></script><script src="/web-dev-2020-notes/assets/js/27.32a85380.js" defer></script>
  </body>
</html>
